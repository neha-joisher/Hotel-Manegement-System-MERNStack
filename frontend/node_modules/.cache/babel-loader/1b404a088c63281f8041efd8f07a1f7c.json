{"ast":null,"code":"import axios from 'axios';\nimport { FOODS_ALL_REQUEST, FOODS_ALL_SUCCESS, FOODS_ALL_FAIL, FOODS_CREATE_REQUEST, FOODS_CREATE_SUCCESS, FOODS_CREATE_FAIL, FOODS_DELETE_REQUEST, FOODS_DELETE_SUCCESS, FOODS_DELETE_FAIL, FOODS_BYID_REQUEST, FOODS_BYID_SUCCESS, FOODS_BYID_FAIL, FOODS_UPDATE_REQUEST, FOODS_UPDATE_SUCCESS, FOODS_UPDATE_FAIL } from '../constants/foodsConstants';\nexport const allFoods = () => async dispatch => {\n  try {\n    dispatch({\n      type: FOODS_ALL_REQUEST\n    });\n    const {\n      data\n    } = await axios.get('/api/food/');\n    console.log(data);\n    dispatch({\n      type: FOODS_ALL_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: FOODS_ALL_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const addFood = (name, category, price, description, image) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: FOODS_CREATE_REQUEST\n    });\n    const {\n      data\n    } = await axios.post(`/api/food/addfood`, {\n      name,\n      category,\n      price,\n      description,\n      image\n    });\n    dispatch({\n      type: FOODS_CREATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: FOODS_CREATE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const deleteFood = id => async dispatch => {\n  try {\n    dispatch({\n      type: FOODS_DELETE_REQUEST\n    });\n    await axios.delete(`/api/food/${id}`);\n    dispatch({\n      type: FOODS_DELETE_SUCCESS\n    });\n  } catch (error) {\n    dispatch({\n      type: FOODS_DELETE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const getFoodDetails = id => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: FOODS_BYID_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/food/${id}`);\n    dispatch({\n      type: FOODS_BYID_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: FOODS_BYID_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const updateFoodDetails = food => async dispatch => {\n  try {\n    dispatch({\n      type: FOODS_UPDATE_REQUEST\n    });\n    const {\n      data\n    } = axios.put(`/api/food/${food._id}`, food);\n    dispatch({\n      type: FOODS_UPDATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: FOODS_UPDATE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const filterFoods = searchkey => async dispatch => {\n  var filteredFoods;\n\n  try {\n    dispatch({\n      type: FOODS_ALL_REQUEST\n    });\n    const response = await axios.get('/api/food/');\n    filteredFoods = response.data.filter(food => food.name.toLowerCase().includes(searchkey));\n    dispatch({\n      type: FOODS_ALL_SUCCESS,\n      payload: filteredFoods\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: FOODS_ALL_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"names":["axios","FOODS_ALL_REQUEST","FOODS_ALL_SUCCESS","FOODS_ALL_FAIL","FOODS_CREATE_REQUEST","FOODS_CREATE_SUCCESS","FOODS_CREATE_FAIL","FOODS_DELETE_REQUEST","FOODS_DELETE_SUCCESS","FOODS_DELETE_FAIL","FOODS_BYID_REQUEST","FOODS_BYID_SUCCESS","FOODS_BYID_FAIL","FOODS_UPDATE_REQUEST","FOODS_UPDATE_SUCCESS","FOODS_UPDATE_FAIL","allFoods","dispatch","type","data","get","console","log","payload","error","response","message","addFood","name","category","price","description","image","getState","post","deleteFood","id","delete","getFoodDetails","updateFoodDetails","food","put","_id","filterFoods","searchkey","filteredFoods","filter","toLowerCase","includes"],"sources":["/Users/nehajoisher/Desktop/Test/frontend/src/actions/foodsAction.js"],"sourcesContent":["import axios from 'axios'\nimport {\n    FOODS_ALL_REQUEST,\n    FOODS_ALL_SUCCESS,\n    FOODS_ALL_FAIL,\n    FOODS_CREATE_REQUEST,\n    FOODS_CREATE_SUCCESS,\n    FOODS_CREATE_FAIL,\n    FOODS_DELETE_REQUEST,\n    FOODS_DELETE_SUCCESS,\n    FOODS_DELETE_FAIL,\n    FOODS_BYID_REQUEST,\n    FOODS_BYID_SUCCESS,\n    FOODS_BYID_FAIL,\n    FOODS_UPDATE_REQUEST,\n    FOODS_UPDATE_SUCCESS,\n    FOODS_UPDATE_FAIL\n\n    \n} from '../constants/foodsConstants'\n\n\n\n\n\n\nexport const allFoods = () => async (dispatch) => {\n    try {\n          dispatch({\n                type: FOODS_ALL_REQUEST,\n          })\n\n          const { data } = await axios.get('/api/food/')\n\n          console.log(data)\n\n          dispatch({\n                type: FOODS_ALL_SUCCESS,\n                payload: data\n          })\n    } catch (error) {\n          console.log(error)\n\n          dispatch({\n                type: FOODS_ALL_FAIL,\n                payload:\n                      error.response && error.response.data.message\n                            ? error.response.data.message\n                            : error.message,\n\n          })\n    }\n}\n\n\nexport const addFood = (name,category,price,description,image) => async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: FOODS_CREATE_REQUEST,\n      })\n  \n  \n  \n      const { data } = await axios.post(`/api/food/addfood`, {name,category,price,description,image})\n  \n      dispatch({\n        type: FOODS_CREATE_SUCCESS,\n        payload: data,\n      })\n    } catch (error) {\n      dispatch({\n        type: FOODS_CREATE_FAIL,\n        payload:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n      })\n    }\n  }\n\n\n  export const deleteFood = (id) => async (dispatch) => {\n    try {\n          dispatch({\n                type: FOODS_DELETE_REQUEST,\n          })\n\n          await axios.delete(`/api/food/${id}`)\n\n          dispatch({\n                type: FOODS_DELETE_SUCCESS,\n\n          })\n    } catch (error) {\n          dispatch({\n                type: FOODS_DELETE_FAIL,\n                payload:\n                      error.response && error.response.data.message\n                            ? error.response.data.message\n                            : error.message,\n          })\n    }\n}\n\n\nexport const getFoodDetails = (id) => async (dispatch, getState) => {\n      try {\n            dispatch({\n                  type: FOODS_BYID_REQUEST,\n            })\n\n            const { data } = await axios.get(`/api/food/${id}`)\n\n            dispatch({\n                  type: FOODS_BYID_SUCCESS,\n                  payload: data\n            })\n\n      } catch (error) {\n            dispatch({\n                  type: FOODS_BYID_FAIL,\n                  payload:\n                        error.response && error.response.data.message\n                              ? error.response.data.message\n                              : error.message,\n            })\n      }\n}\n\nexport const updateFoodDetails = (food) => async (dispatch) => {\n      try{\n            dispatch({\n                  type: FOODS_UPDATE_REQUEST,\n            })\n            const { data } = axios.put(`/api/food/${food._id}`, food)\n            dispatch({\n                  type: FOODS_UPDATE_SUCCESS,\n                  payload: data,\n            })\n\n      } catch (error){\n            dispatch({\n                  type:FOODS_UPDATE_FAIL,\n                  payload:\n                        error.response && error.response.data.message\n                              ? error.response.data.message\n                              : error.message,\n            })\n      }\n}\n\nexport const filterFoods = (searchkey) => async dispatch => {\n\n      var filteredFoods;\n\n      try {\n            dispatch({\n                  type: FOODS_ALL_REQUEST,\n            })\n  \n            const  response = await axios.get('/api/food/')\n            filteredFoods = response.data.filter(food => food.name.toLowerCase().includes(searchkey))\n\n            dispatch({\n                  type: FOODS_ALL_SUCCESS,\n                  payload: filteredFoods\n            })\n      } catch (error) {\n            console.log(error)\n  \n            dispatch({\n                  type: FOODS_ALL_FAIL,\n                  payload:\n                        error.response && error.response.data.message\n                              ? error.response.data.message\n                              : error.message,\n  \n            })\n      }\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module"}